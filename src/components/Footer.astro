---
// obtain release version (https://ryan-schachte.com/blog/including_version_data/)
import {version} from "../../package.json";
import Navs from "./Navs.astro";
// obtain last commit date (claude)
const response = await fetch('https://api.github.com/repos/alfirous/firous.com/commits?per_page=1');
const data = await response.json();
const commit = data[0].commit;

const date = new Date(commit.author.date);
const year = date.getFullYear();
const month = date.getMonth() + 1;
const day = date.getDate();
const hour = date.getHours();

const commitDate = `${year}.${month}.${day}.${hour}`;
---

<footer>
    <section>
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM16.59 16.59L7.41 7.41C8.39 6.5 9.64 6 11 6C14.31 6 17 8.69 17 12C17 13.36 16.5 14.61 15.59 15.59ZM8.41 16.59C7.5 15.61 7 14.36 7 13C7 9.69 9.69 7 13 7C14.36 7 15.61 7.5 16.59 8.41L7.41 17.59C6.5 16.61 6 15.36 6 14C6 10.69 8.69 8 12 8C13.36 8 14.61 8.5 15.59 9.41L8.41 16.59Z" fill="currentColor"/>
        </svg>
        <Navs />
    </section>
    <section>
        <p>Perpetual Development <a href="https://github.com/AlFirous/firous.com" class="version">v{version} | v{commitDate}</a></p>
        <p><a href="/colophon">Colophon</a></p>
    </section>
</footer>