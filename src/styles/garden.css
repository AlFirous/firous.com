/* GARDEN START */
:root {
  --serif: var(--font-garamond);
  --sans: var(--font-inter);
  --mono: var(--font-ibm-plex-mono);
  --mono: monospace;
  --mono-adjust: 0.58;
}

body {
  background-color: var(--background);
  color: var(--flexoki-paper);
}

a,
a:visited {
  color: var(--flexoki-cyan-100);
  transition: var(--transition-medium);
}

header {
  z-index: 2;
  position: relative;
}

header * {
  font-size: medium;
}

header svg {
  @media (max-width: 767px) {
    width: 21px;
  }
}

header > *:first-child,
header > *:last-child {
  @media (max-width: 768px) {
    grid-column: span 2;
  }
}

header > *:nth-child(2) {
  @media (max-width: 768px) {
    grid-column: span 8;
  }
}

header > *:nth-child(2) span {
  @media (max-width: 767px) {
    display: none;
  }
}

header p.wordmark {
  display: flex;
  flex-direction: column;
  height: calc(var(--font-size-small) + 6px);
  line-height: 1.5em;

  @media (max-width: 768px) {
    align-items: center;
    text-align: center;
  }
}

header p.wordmark a {
  font-weight: 500;
}

header .wordmark tag-line {
  font-family: var(--serif);
}

header nav {
  @media (max-width: 768px) {
    display: none;
  }
}

article {
  grid-column: 4 / 10;
  margin-block: calc(3 * var(--spacing));

  /* TABLET */
  @media (max-width: 1023px) {
    grid-column: 2 / 12;
  }

  /* MOBILE */
  @media (max-width: 767px) {
    grid-column: 1 / 13;
  }
}

/* GRID LINE AREA START */

article {
  grid-column: span 12;
  display: grid;
  grid-template-columns: [fullwidth-start] 1fr 1fr [col-8-start] 1fr [col-6-start] 1fr 1fr 1fr [center] 1fr 1fr 1fr [col-6-end] 1fr [col-8-end] 1fr 1fr [fullwidth-end];
  column-gap: var(--spacing);
  grid-auto-rows: auto;
  position: relative;
}

article img {
  /*
    position: sticky;
    top: var(--spacing);
    grid-column-start: article-end;
    grid-column-end: fullwidth;
    grid-row: span 12;
    display: grid;
    margin-top: var(--spacing);
    */
  object-fit: cover;
  aspect-ratio: 16/9;
  object-position: top;
  margin-bottom: calc(3 * var(--spacing));
  border-radius: 0.3rem;
}

article h1,
article img,
article h2,
article h3,
article p,
article ul,
article ol,
article pre,
article hr,
article .footnotes,
article post-footer {
  grid-column: col-6;

  @media (max-width: 1023px) {
    grid-column: col-8;
  }

  @media (max-width: 767px) {
    grid-column: fullwidth;
  }
}

article p:not(post-footer p) {
  margin-top: 0;
}

/* GRID LINE AREA END */

article h1 {
  font-size: var(--font-size-medium);
  font-weight: normal;
  margin-block: calc(3 * var(--spacing));
}

/* TABLE OF CONTENT */

nav.toc {
  font-size: medium;
  position: fixed;
  right: var(--spacing);
}

nav.toc h2 {
  margin: 0;
  margin-bottom: 1ch;

  &:before {
    content: unset;
  }
}

nav.toc ul {
  padding-left: 2ch;
  margin-left: 2px;
  border-left: 1px solid gray;
}

nav.toc ul li:before {
  content: "";
  position: absolute;
}

nav.toc li.depth-3 {
  margin-left: 2ch;
  opacity: 0.9;
}

/* TABLE OF CONTENT END */

h1,
h2,
h3,
h4,
h5,
h6 {
  color: var(--highlight);
}

article h2,
article h3,
article h4 {
  scroll-margin-top: var(--spacing);
}

article h2,
article h3,
article p,
article ul,
article ol {
  margin-bottom: var(--spacing);
}

article ul {
  list-style: none;
}

article ul li:before {
  content: "â€”";
  margin-right: 1ch;
  color: var(--secondary);
  width: 2ch;
  display: inline-block;
}

article li::marker {
  color: var(--secondary);
}

article ol li {
  margin-left: 2ch;
}

article p,
article li {
  color: var(--text);
  line-height: 1.5em;
  text-wrap-style: pretty;
}

article a[href^="https://firous.com"],
article a[href^="mailto"],
article a[href^="/"] {
  border-bottom: 1.5px solid var(--secondary);
}

article a[href^="http"],
article a[href^="https://"] {
  border-bottom: 1.5px solid var(--accent);
}

strong {
  color: var(--highlight);
}

hr {
  border: none;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  margin-block: calc(6 * var(--spacing));
}

hr:before {
  content: "";
  display: block;
  height: var(--font-size-medium);
  width: var(--font-size-medium);
  background: var(--secondary);
  mask-image: url(/raf-logo.svg);
  mask-repeat: no-repeat;
  mask-position: center center;
  mask-size: var(--font-size-medium);
  z-index: 1;
}

hr:after {
  content: "";
  height: 1px;
  width: 100%;
  position: absolute;
  background: radial-gradient(transparent, var(--trietary));
}

hr + h2 + p,
hr + h2 + ul,
hr + h2 + ol {
  font-size: var(--font-size-small);
  text-transform: capitalize;
  font-family: var(--font-inter);
}

sup {
  vertical-align: 0.5ch;
  line-height: 0;
}

sup a {
  &::before {
    content: "[";
  }

  &::after {
    content: "]";
  }
}

sup a,
sup a:visited,
section.footnotes a {
  color: var(--accent);
  scroll-margin-top: 10dvh;
}

section.footnotes {
  font-size: smaller;
}

section.footnotes p {
  margin: 0;
}

post-meta {
  text-align: center;
  font-size: var(--font-size-small);
  font-family: var(--font-inter);
  color: var(--muted);
  display: flex;
  justify-content: center;
  gap: 1ch;
  align-items: center;
}

time {
  color: var(--secondary);
}

post-meta svg {
  width: 2ch;
  color: var(--secondary);
  margin-left: 0.2ch;
  margin-bottom: 0.2ch;
}

post-footer {
  margin-block-start: calc(-6 * var(--spacing) - calc(var(--font-size-medium) / 2 + 1px));
  text-align: center;
  font-family: var(--sans);
  display: block;
  border: 1px solid var(--trietary);
  border-top: 0;
  padding: calc(2 * var(--spacing)) var(--spacing);
}

body::before {
  content: "";
  height: 15dvh;
  width: 100%;
  position: fixed;
  top: 0;
  left: 0;
  /* position: sticky;*/
  pointer-events: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  width: 100%;
  left: 0;
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  will-change: transform;
  background: linear-gradient(to top, transparent, var(--background));
  -webkit-mask-image: linear-gradient(to bottom, var(--background) 25%, transparent);
  mask-image: linear-gradient(to bottom, var(--background) 25%, transparent);
  z-index: 1;
  display: block;
}

/* GARDEN END */

/* TECH */

.tech {
  --background: var(--blue-1000);
  color: var(--paper);
  --accent: var(--orange-400);
  --secondary: var(--blue-400);
  --trietary: var(--blue-600);
  --text: var(--blue-50);
  --muted: var(--400);
  --highlight: var(--orange-50);
  font-family: var(--sans);
  font-weight: 300;
  line-height: 1.2em;
}

.tech a:hover,
.tech a:active {
  color: var(--accent);
}

/*
.tech header > *:first-child,
.tech header > *:last-child {
  @media (min-width: 768px) {
    grid-column: span 1;
  }
}

.tech header > *:nth-child(2),
.tech header > *:nth-child(3) {
  @media (min-width: 768px) {
    grid-column: span 5;
  }
}
*/

.tech header tag-line {
  font-family: var(--mono);
  font-size-adjust: var(--mono-adjust);
}

.tech h1 {
  font-size: var(--font-size-large);
  font-family: var(--mono);
  font-size-adjust: var(--mono-adjust);
}

.tech h2,
.tech h3,
.tech h4 {
  position: relative;
  font-family: var(--mono);
  font-size-adjust: var(--mono-adjust);

  &:before {
    margin-right: 1ch;
    color: var(--trietary);
    width: 2ch;
    display: inline-block;
  }

  /* MOBILE LARGE */
  @media (min-width: 768px) {
    &:before {
      position: absolute;
      width: 3ch;
      left: -4ch;
      text-align: right;
    }
  }
}

.tech h2 {
  &:before {
    content: "##";
  }
}

.tech h3 {
  &:before {
    content: "###";
  }

  @media (max-width: 767px) {
    &:before {
      content: "#3";
    }
  }
}

.tech h4 {
  &:before {
    content: "####";
  }
}

.tech ul {
  border-left: 1px solid var(--trietary);
}

.tech sup {
  font-family: var(--mono);
}

.tech strong,
.tech em {
  font-family: var(--mono);
  font-size-adjust: var(--mono-adjust);
}

.tech .astro-code {
  padding: var(--spacing);
  border-radius: 0.3rem;
  border: 1px solid var(--blue-850);
  font-size: var(--font-size-small);
  font-family: var(--mono);
  background-color: var(--blue-950) !important;
}

.tech post-footer time {
  font-family: var(--mono);
}

/* TECH END */

/* LIFE */
.life {
  --background: var(--cyan-950);
  color: var(--cyan-50);
  --accent: var(--orange-400);
  --secondary: var(--cyan-400);
  --trietary: var(--cyan-600);
  --text: var(--cyan-50);
  --muted: var(--600);
  --highlight: var(--orange-50);
  --interaction: var(--cyan-400);
  --sans: var(--font-inter);
  --serif: var(--font-garamond);
}

.life header svg,
.life header svg path {
  fill: var(--text);
  transition: var(--transition-medium);
}

.life a:hover,
.life a:active,
.life header svg:hover path {
  color: var(--accent);
  fill: var(--accent);
}

.life svg:active {
  transform: scale(0.95);
}

.life article {
  font-family: var(--font-garamond);
  font-size-adjust: var(--font-garamond-adjust);
}

.life h1 {
  font-size: var(--font-size-large);
  text-align: center;
  font-style: italic;
}

.life article h2,
.life article h3 {
  text-align: center;
}

.life article a {
  font-family: var(--font-inter);
}

.life sup {
  font-family: var(--serif);
}

.life strong,
.life em {
  font-family: var(--serif);
}

/* LIFE END */
