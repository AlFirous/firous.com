---
import { getCollection, render } from 'astro:content';
import GardenLayout from '../../layouts/GardenLayout.astro';

export async function getStaticPaths() {
  const gardenPosts = await getCollection('garden');
  return gardenPosts.map(post => ({
    params: { slug: post.id.replace(/\.mdx?$/, '') },
    props: post,
  }));
}

const post = Astro.props;

const { Content } = await render(post);
---
<GardenLayout title={post.data.title} description={post.data.description}>
    <h1>{post.data.title}</h1>
    <Content />
</GardenLayout>
